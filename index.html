<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="huangyong" />


    
    


<meta name="description" content="Blog">
<meta property="og:type" content="website">
<meta property="og:title" content="HuangYong Blog">
<meta property="og:url" content="ty52u.cn/index.html">
<meta property="og:site_name" content="HuangYong Blog">
<meta property="og:description" content="Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HuangYong Blog">
<meta name="twitter:description" content="Blog">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternative" href="/atom.xml" title="HuangYong Blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>HuangYong Blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        open_in_new: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">huangyong</a></h1>
        </hgroup>

        
        <p class="header-subtitle">新的开始</p>
        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/随笔">随笔</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:hy873872182@gmail.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" target="_blank" href="http://weibo.com/i/2124234337" title="新浪微博"></a>
                            
                                <a class="fa GitHub" target="_blank" href="http://github.com/HuangYog" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa Google" target="_blank" href="mailto:hy873872182@gmail.com" title="Google"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Alert-API/">Alert API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clipboard/">Clipboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DatePickerAndroid/">DatePickerAndroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DrawerLayoutAndroid/">DrawerLayoutAndroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Express/">Express</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ListView/">ListView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Modal/">Modal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Navigator/">Navigator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ProgressBarAndroid/">ProgressBarAndroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PullToRefreshView/">PullToRefreshView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Native/">React-Native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RefreshControl/">RefreshControl</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ScrollView/">ScrollView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/StatusBar/">StatusBar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Switch与Picker/">Switch与Picker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Text/">Text</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TimePickerAndroid/">TimePickerAndroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ToastAndroid/">ToastAndroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ToolBarAndroid/">ToolBarAndroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Touchable/">Touchable*</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/View/">View</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ViewPagerAndroid/">ViewPagerAndroid</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebView/">WebView</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/atom-plugins/">atom-plugins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/express4/">express4.*</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/">react-native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开始/">开始</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/我的Blog/">我的Blog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日记/">日记</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">huangyong</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">huangyong</a></h1>
            </hgroup>
            
            <p class="header-subtitle">新的开始</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/随笔">随笔</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:hy873872182@gmail.com" title="Email"></a>
                            
                                <a class="fa 新浪微博" target="_blank" href="http://weibo.com/i/2124234337" title="新浪微博"></a>
                            
                                <a class="fa GitHub" target="_blank" href="http://github.com/HuangYog" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                                <a class="fa Google" target="_blank" href="mailto:hy873872182@gmail.com" title="Google"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-React-Native/24-React-Native之Alert学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/29/React-Native/24-React-Native之Alert学习/" class="article-date">
      <time datetime="2016-07-29T07:13:28.000Z" itemprop="datePublished">2016-07-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/29/React-Native/24-React-Native之Alert学习/">24.React-Native之Alert学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-Alert-弹出框-介绍"><a href="#1-Alert-弹出框-介绍" class="headerlink" title="1. Alert(弹出框)介绍"></a>1. Alert(弹出框)介绍</h3><p><code>Alert模块</code>是创建弹出一个弹框，显示一个标题以及相关信息内容。该弹出框可以提供一系列的可选按钮，点击任何一个按钮都会调用onPress方法并且关闭弹框。默认情况下，只会显示一个’确定’按钮。<br>该模块API是在Android、iOS平台通用的显示静态的弹框。如果需要显示一个提示框可以让用户输入相关信息的，<a href="https://github.com/facebook/react-native/blob/6f1417c84982e0705912b57bf9d1aaaf1476d7d9/Libraries/Utilities/AlertIOS.js" target="_blank" rel="external">详请查看AlertIOS</a>;该带输入框的弹框只适用于iOS平台.<br>Android平台的弹出框的按钮有’中间态’,’取消’,’确认’三种状态:</p>
<ol>
<li>如果你只有指定了一个按钮，那么该为’positive’ (例如:确定)</li>
<li>如果你指定了两个按钮，那么该会’negative’,’positive’ (例如:确定，取消)</li>
<li>如果你指定了三个按钮，那么该会’neutral’,’negative’,’positive’(例如:稍后再说,’确定’,’取消’)</li>
</ol>
<h3 id="2-Alert方法"><a href="#2-Alert方法" class="headerlink" title="2. Alert方法"></a>2. Alert方法</h3><p>static <code>alert(title:string,message?:string,buttons?:Buttons,type?:AlertType)</code>  该方法会Alert模块显示弹框的静态方法，有四个参数，分别为标题，信息，按钮，以及按钮的风格类型</p>
<h3 id="3-Alert实例"><a href="#3-Alert实例" class="headerlink" title="3. Alert实例"></a>3. Alert实例</h3><p>示例代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    Alert,</span><br><span class="line">    TouchableHighlight,</span><br><span class="line">    ToastAndroid</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class CustomButton extends Component&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return(</span><br><span class="line">            &lt;TouchableHighlight</span><br><span class="line">            style=&#123;styles.button&#125;</span><br><span class="line">            underlayColor=&apos;#a5a5a5&apos;</span><br><span class="line">            onPress=&#123;this.props.onPress&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.buttonText&#125;&gt;&#123;this.props.text&#125;&lt;/Text&gt;</span><br><span class="line">            &lt;/TouchableHighlight&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RNAppAlert extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View&gt;</span><br><span class="line">                &lt;Text style=&#123;&#123;height: 30, color: &apos;black&apos;, margin: 8&#125;&#125;&gt;</span><br><span class="line">                    弹出框实例</span><br><span class="line">                &lt;/Text&gt;</span><br><span class="line">                &lt;CustomButton</span><br><span class="line">                    text = &apos;点击弹出默认&apos;</span><br><span class="line">                    onPress=&#123;() =&gt; Alert.alert(&apos;退出&apos;,&apos;您确定要退出吗?&apos;)&#125;/&gt;</span><br><span class="line"></span><br><span class="line">                &lt;CustomButton</span><br><span class="line">                    text = &apos;点击弹出两个按钮&apos;</span><br><span class="line">                    onPress=&#123;()=&gt;Alert.alert(&apos;提醒&apos;,&apos;确定退出吗?&apos;,[</span><br><span class="line">                            &#123;text:&apos;取消&apos;,onPress:()=&gt;ToastAndroid.show(&apos;你点击了取消~&apos;,ToastAndroid.SHORT)&#125;,</span><br><span class="line">                            &#123;text:&apos;确定&apos;,onPress:()=&gt;ToastAndroid.show(&apos;你点击了确定~&apos;,ToastAndroid.SHORT)&#125;</span><br><span class="line">                    ])&#125;/&gt;</span><br><span class="line">                &lt;CustomButton</span><br><span class="line">                    text = &apos;点击弹出三个按钮&apos;</span><br><span class="line">                    onPress=&#123;()=&gt;Alert.alert(&apos;提醒&apos;,&apos;您确定要退出吗?&apos;,[</span><br><span class="line">                            &#123;text:&apos;取消&apos;,onPress:()=&gt;ToastAndroid.show(&apos;你点击了取消&apos;,ToastAndroid.SHORT)&#125;,</span><br><span class="line">                            &#123;text:&apos;不确定&apos;,onPress:()=&gt;ToastAndroid.show(&apos;你点击了不确定&apos;,ToastAndroid.SHORT)&#125;,</span><br><span class="line">                            &#123;text:&apos;确定&apos;,onPress:()=&gt;ToastAndroid.show(&apos;你点击了确定&apos;,ToastAndroid.SHORT)&#125;</span><br><span class="line">                    ])&#125;/&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    button: &#123;</span><br><span class="line">        margin: 5,</span><br><span class="line">        backgroundColor: &apos;white&apos;,</span><br><span class="line">        padding: 15,</span><br><span class="line">        borderBottomWidth: StyleSheet.hairlineWidth,</span><br><span class="line">        borderBottomColor: &apos;#cdcdcd&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppAlert&apos;, () =&gt; RNAppAlert);</span><br></pre></td></tr></table></figure></p>
<p>运行后的效果如下图:<br><img src="/images/2016-07-29-16-16.gif"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Alert-API/">Alert API</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/23-React-Native之ToastAndroid学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/29/React-Native/23-React-Native之ToastAndroid学习/" class="article-date">
      <time datetime="2016-07-29T07:12:05.000Z" itemprop="datePublished">2016-07-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/29/React-Native/23-React-Native之ToastAndroid学习/">23.React-Native之ToastAndroid学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-ToastAndroid-API-介绍"><a href="#1-ToastAndroid-API-介绍" class="headerlink" title="1. ToastAndroid API 介绍"></a>1. ToastAndroid API 介绍</h3><p><code>ToastAndroid</code>模块是把Android平台原生模块Toast封装成一个JS模块使用，来进行弹出一个toast消息。该模块有一个’show’方法会传入下面两个参数:<br>  <code>message</code>  string 字符串格式，设置要进行toast显示的文本<br>  <code>duration</code>  int格式 toast消息弹出显示的时长。有两个可选值<code>ToastAndroid.SHORT</code>或者<code>ToastAndroid.LONG</code></p>
<h3 id="2-ToastAndroid-方法-属性"><a href="#2-ToastAndroid-方法-属性" class="headerlink" title="2. ToastAndroid 方法/属性"></a>2. ToastAndroid 方法/属性</h3><p>  方法:</p>
<pre><code>1. `show(message:string,duration:number)`  static 静态方法，该设置toast消息的弹出
</code></pre><p>  属性:</p>
<pre><code>1. `SHORT`  静态int值，表示toast显示较短的时间
2. `LONG`   静态int值，表示otast显示较长的时间
</code></pre><h3 id="3-ToastAndroid-实例"><a href="#3-ToastAndroid-实例" class="headerlink" title="3. ToastAndroid 实例"></a>3. ToastAndroid 实例</h3><p>示例代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    ToastAndroid,</span><br><span class="line">    TouchableHighlight</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class CustomButton extends Component&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return(</span><br><span class="line">            &lt;TouchableHighlight</span><br><span class="line">            style=&#123;styles.button&#125;</span><br><span class="line">            underlayColor=&apos;#a5a5a5&apos;</span><br><span class="line">            onPress=&#123;this.props.onPress&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.buttonText&#125;&gt;&#123;this.props.text&#125;&lt;/Text&gt;</span><br><span class="line">            &lt;/TouchableHighlight&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RNAppToastAndroid extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.welcome&#125;&gt;</span><br><span class="line">                    点击弹出段时间的 Toast</span><br><span class="line">                &lt;/Text&gt;</span><br><span class="line">                &lt;CustomButton</span><br><span class="line">                text = &apos;点击弹出段时间的 toast&apos;</span><br><span class="line">                onPress=&#123;() =&gt; ToastAndroid.show(&apos;只是弹出来的toast,是短时间的&apos;, ToastAndroid.SHORT)&#125;/&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.welcome&#125;&gt;点击弹出时间长的Toast&lt;/Text&gt;</span><br><span class="line">                &lt;CustomButton</span><br><span class="line">                text=&quot;点击弹出时间长的toast&quot;</span><br><span class="line">                onPress=&#123;() =&gt; ToastAndroid.show(&quot;点击弹出长时间的 Toast&quot;,ToastAndroid.LONG)&#125;/&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    button: &#123;</span><br><span class="line">        margin: 5,</span><br><span class="line">        backgroundColor: &apos;white&apos;,</span><br><span class="line">        padding: 15,</span><br><span class="line">        borderBottomWidth: StyleSheet.hairlineWidth,</span><br><span class="line">        borderBottomColor: &apos;#CDCDCD&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppToastAndroid&apos;, () =&gt; RNAppToastAndroid);</span><br></pre></td></tr></table></figure></p>
<p>运行后看到的效果如下图:<br><img src="/images/2016-07-29-15-22.gif" width="300" height="500"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ToastAndroid/">ToastAndroid</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/22-React-Native之Modal组件学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/29/React-Native/22-React-Native之Modal组件学习/" class="article-date">
      <time datetime="2016-07-29T03:33:29.000Z" itemprop="datePublished">2016-07-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/29/React-Native/22-React-Native之Modal组件学习/">22.React-Native之Modal组件学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-Modal介绍"><a href="#1-Modal介绍" class="headerlink" title="1. Modal介绍"></a>1. Modal介绍</h3><p><code>Modal</code> 可以弹出来覆盖包含React Native跟视图的原生界面(例如:UiViewControllView,Activity)。在使用React Native开发的混合应用中使用Modal组件，该可以让你使用RN开发的内功呈现在原生视图的上面,如果使用React Native开发的应用，从跟视图就开始开发起来了，那么你应该是Navigator导航器进行控制页面弹出，而不是使用Modal模态视图。通过顶层的Navigator，你可以使用configureScene属性进行控制如何在你开发的App中呈现一个Modal视图</p>
<h3 id="2-Modal属性方法"><a href="#2-Modal属性方法" class="headerlink" title="2. Modal属性方法"></a>2. Modal属性方法</h3><ol>
<li><code>animated</code> bool  控制是否带有动画效果</li>
<li><code>onRequestClose</code>  Platform.OS===’android’? PropTypes.func.isRequired : PropTypes.func</li>
<li><code>onShow</code> function方法</li>
<li><code>transparent</code> bool  控制是否带有透明效果</li>
<li><code>visible</code>  bool 控制是否显示</li>
</ol>
<h3 id="2-Modal应用实例"><a href="#2-Modal应用实例" class="headerlink" title="2. Modal应用实例"></a>2. Modal应用实例</h3><p>实例代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    TouchableHighlight,</span><br><span class="line">    Modal,</span><br><span class="line">    Switch</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class Button extends Component &#123;</span><br><span class="line">    // 构造</span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        // 初始状态</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            active: false</span><br><span class="line">        &#125;;</span><br><span class="line">        this._onHighlight = this.onHighlight.bind(this);</span><br><span class="line">        this._onUnhighlight = this.onUnhighlight.bind(this);</span><br><span class="line">      &#125;</span><br><span class="line">    onHighlight()&#123;</span><br><span class="line">        this.setState(&#123;active: true&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    onUnhighlight()&#123;</span><br><span class="line">        this.setState(&#123;active: false&#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render()&#123;</span><br><span class="line">        var colorStyle = &#123;</span><br><span class="line">            color: this.state.active ? &apos;#fff&apos; : &apos;#000&apos;</span><br><span class="line">        &#125;;</span><br><span class="line">        return (</span><br><span class="line">            &lt;TouchableHighlight</span><br><span class="line">                onHideUnderlay=&#123;this._onUnhighlight&#125;</span><br><span class="line">                onPress=&#123;this.props.onPress&#125;</span><br><span class="line">                onShowUnderlay=&#123;this._onHighlight&#125;</span><br><span class="line">                style=&#123;[styles.button, this.props.style]&#125;</span><br><span class="line">                underlayColor=&apos;#a9d9d4&apos;&gt;</span><br><span class="line">                &lt;Text style = &#123;[styles.buttonText, colorStyle]&#125;&gt;&#123;this.props.children&#125;&lt;/Text&gt;</span><br><span class="line">            &lt;/TouchableHighlight&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RNAppModal extends Component &#123;</span><br><span class="line"></span><br><span class="line">    // 构造</span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        // 初始状态</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            animationType: false,</span><br><span class="line">            modalVisible: false,</span><br><span class="line">            transparent: false</span><br><span class="line">        &#125;;</span><br><span class="line">        this._toggleTransparent = this.toggleTransparent.bind(this);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      _setModalVisible(visible)&#123;</span><br><span class="line">          this.setState(&#123;modalVisible: visible&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">      _setAnimationType(type)&#123;</span><br><span class="line">        this.setState(&#123;animationType: type&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    toggleTransparent()&#123;</span><br><span class="line">          this.setState(&#123;transparent: !this.state.transparent&#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line"></span><br><span class="line">        const modalBackgroundStyle = &#123;</span><br><span class="line">            backgroundColor: this.state.transparent ? &apos;rgba(0, 0, 0, 0.5)&apos; : &apos;#f5fcff&apos;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        const innerConstainerTransparentSTyle = this.state.transparent ? &#123;backgroundColor: &apos;red&apos;, padding: 20&#125; : null;</span><br><span class="line"></span><br><span class="line">        return (</span><br><span class="line">            &lt;View style=&#123;&#123;padding: 20, paddingLeft: 10, paddingRight: 10&#125;&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;&#123;color: &apos;red&apos;&#125;&#125;&gt;Modal 实例演示&lt;/Text&gt;</span><br><span class="line">                &lt;Modal</span><br><span class="line">                    animatedType=&#123;this.state.animationType&#125;</span><br><span class="line">                    transparent=&#123;this.state.transparent&#125;</span><br><span class="line">                    visible=&#123;this.state.modalVisible&#125;</span><br><span class="line">                    onRequestClose=&#123;() =&gt; &#123;this._setModalVisible(false)&#125;&#125;&gt;</span><br><span class="line">                    &lt;View style=&#123;[styles.container, modalBackgroundStyle]&#125;&gt;</span><br><span class="line">                        &lt;View style=&#123;[styles.innerContainer, innerConstainerTransparentSTyle]&#125;&gt;</span><br><span class="line">                            &lt;Text&gt;Modal 视图呗显示,</span><br><span class="line">                                &#123;this.state.animationType === false ? &apos;没有&apos; : &apos;有&apos; + this.state.animationType&#125;动画效果</span><br><span class="line">                            &lt;/Text&gt;</span><br><span class="line">                            &lt;Button</span><br><span class="line">                                onPress=&#123;this._setModalVisible.bind(this, false)&#125;</span><br><span class="line">                                style=&#123;styles.modalButton&#125;&gt;</span><br><span class="line">                                 关闭 Modal</span><br><span class="line">                            &lt;/Button&gt;</span><br><span class="line">                        &lt;/View&gt;</span><br><span class="line">                    &lt;/View&gt;</span><br><span class="line">                &lt;/Modal&gt;</span><br><span class="line">                &lt;View style=&#123;styles.row&#125;&gt;</span><br><span class="line">                    &lt;Text style=&#123;styles.rowTitle&#125;&gt;动画类型&lt;/Text&gt;</span><br><span class="line">                    &lt;Button</span><br><span class="line">                        onPress=&#123;this._setAnimationType.bind(this, false)&#125;</span><br><span class="line">                        style=&#123;this.state.animationType === false ? &#123;backgroundColor: &apos;red&apos;&#125;: &#123;&#125;&#125;&gt;</span><br><span class="line">                        无动画</span><br><span class="line">                    &lt;/Button&gt;</span><br><span class="line">                    &lt;Button</span><br><span class="line">                        onPress=&#123;this._setAnimationType.bind(this, true)&#125;</span><br><span class="line">                        style=&#123;this.state.animationType === true ? &#123;backgroundColor: &apos;yellow&apos;&#125;: &#123;&#125;&#125;&gt;</span><br><span class="line">                        无动画</span><br><span class="line">                    &lt;/Button&gt;</span><br><span class="line">                &lt;/View&gt;</span><br><span class="line">                &lt;View style=&#123;styles.row&#125;&gt;</span><br><span class="line">                    &lt;Text style=&#123;styles.rowTitle&#125;&gt;透明&lt;/Text&gt;</span><br><span class="line">                    &lt;Switch value=&#123;this.state.transparent&#125; onValueChange=&#123;this._toggleTransparent&#125; /&gt;</span><br><span class="line">                    &lt;Button onPress=&#123;this._setModalVisible.bind(this, true)&#125;&gt;显示Modal&lt;/Button&gt;</span><br><span class="line">                &lt;/View&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        flex: 1,</span><br><span class="line">        justifyContent: &apos;center&apos;,</span><br><span class="line">        padding: 20</span><br><span class="line">    &#125;,</span><br><span class="line">    innerContainer: &#123;</span><br><span class="line">        borderRadius: 10,</span><br><span class="line">        alignItems: &apos;center&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    row: &#123;</span><br><span class="line">        alignItems: &apos;center&apos;,</span><br><span class="line">        flex: 1,</span><br><span class="line">        flexDirection: &apos;row&apos;,</span><br><span class="line">        marginBottom: 20</span><br><span class="line">    &#125;,</span><br><span class="line">    rowTitle:&#123;</span><br><span class="line">        flex: 1,</span><br><span class="line">        fontWeight: &apos;bold&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    button: &#123;</span><br><span class="line">        borderRadius: 5,</span><br><span class="line">        flex: 1,</span><br><span class="line">        height: 44,</span><br><span class="line">        alignSelf: &apos;stretch&apos;,</span><br><span class="line">        justifyContent: &apos;center&apos;,</span><br><span class="line">        overflow: &apos;hidden&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    buttonText: &#123;</span><br><span class="line">        fontSize: 18,</span><br><span class="line">        margin: 5,</span><br><span class="line">        textAlign: &apos;center&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    modalButton: &#123;</span><br><span class="line">        marginTop: 10</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppModal&apos;, () =&gt; RNAppModal);</span><br></pre></td></tr></table></figure></p>
<p>运行后看到的效果如下:<br><img src="/images/2016-07-29-14-04-39.gif"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Modal/">Modal</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/21-React-Native之TimePickerAndroid空间学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/29/React-Native/21-React-Native之TimePickerAndroid空间学习/" class="article-date">
      <time datetime="2016-07-29T02:15:52.000Z" itemprop="datePublished">2016-07-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/29/React-Native/21-React-Native之TimePickerAndroid空间学习/">21.React-Native之TimePickerAndroid空间学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-TimePickerAndroid组件介绍"><a href="#1-TimePickerAndroid组件介绍" class="headerlink" title="1. TimePickerAndroid组件介绍"></a>1. TimePickerAndroid组件介绍</h3><p><code>TimePickerAndroid</code>进行渲染打开一个原生的Android时间选择弹框，首先看一下官方给的一个示例代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  const &#123;action, hour, minute&#125; = await TimePickerAndroid.open(&#123;</span><br><span class="line">    hour: 14,</span><br><span class="line">    minute: 0,</span><br><span class="line">    is24Hour: false, // Will display &apos;2 PM&apos;</span><br><span class="line">  &#125;);</span><br><span class="line">  if (action !== DatePickerAndroid.dismissedAction) &#123;</span><br><span class="line">    // Selected hour (0-23), minute (0-59)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; catch (&#123;code, message&#125;) &#123;</span><br><span class="line">  console.warn(&apos;Cannot open time picker&apos;, message);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-TimePickerAndroid组件属性方法"><a href="#2-TimePickerAndroid组件属性方法" class="headerlink" title="2. TimePickerAndroid组件属性方法"></a>2. TimePickerAndroid组件属性方法</h3><ol>
<li><code>open(opstions:Object)</code>  static静态方法 ,用来进行弹出一个Android标准的时间选择器的弹框。传入参数options对象的key-value值如下:<ul>
<li><code>hour</code> :需要进行显示的小时，范围在0-23之间，默认显示为当前时间</li>
<li><code>minute</code> :需要进行显示的分钟，范围在0-59之间，默认显示为当前时间</li>
<li><code>is24Hour</code> : boolean类型 ,如果该值为true,选择器使用24小时格式制,如果设置成false，那么选择器会显示AM/PM格式。如果没有定义，那么该值会默认显示当地设置<br>当用户进行使用选择器选择了一个时间之后，那么该静态方法会返回一个Promise对象,该对象会携带action,hour(0-23),minute(0-59)三个参数。如果用户取消了弹框，那么该Promise仍然会进行返回。该携带的action为TimePickerAndroid.dismissedAction，但是其他的keys为未定义。正因为如此我们在进行读取Promise中的值的时候就一定需要检查action</li>
</ul>
</li>
<li><code>timeSetAction()</code>   static静态方法,选择一个时间</li>
<li><code>dismissedAction()</code>   static静态方法,选择器弹框被关闭</li>
</ol>
<h3 id="3-TimePickerAndroid组件实例"><a href="#3-TimePickerAndroid组件实例" class="headerlink" title="3. TimePickerAndroid组件实例"></a>3. TimePickerAndroid组件实例</h3><p>实例代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    TouchableHighlight,</span><br><span class="line">    TimePickerAndroid,</span><br><span class="line">    ToastAndroid</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class CustomButton extends Component&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return(</span><br><span class="line">            &lt;TouchableHighlight</span><br><span class="line">                style=&#123;styles.button&#125;</span><br><span class="line">                underlayColor=&quot;#a5a5a5&quot;</span><br><span class="line">                onPress=&#123;this.props.onPress&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.buttonText&#125;&gt;&#123;this.props.text&#125;&lt;/Text&gt;</span><br><span class="line">            &lt;/TouchableHighlight&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RNAppTimePickerAndroid extends Component &#123;</span><br><span class="line"></span><br><span class="line">    // 构造</span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        // 初始状态</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            isoFormatText: &apos;pick a time (24-hour format)&apos;,</span><br><span class="line">            presetHour: 4,</span><br><span class="line">            presetMinute: 4,</span><br><span class="line">            presetText: &apos;pick a time, default: 4:04AM&apos;,</span><br><span class="line">            simpleText: &apos;pick a time&apos;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      async showPicker(options)&#123;</span><br><span class="line">          try &#123;</span><br><span class="line">              const &#123;action, minute, hour&#125; = await TimePickerAndroid.open(options);</span><br><span class="line">              if (action === TimePickerAndroid.timeSetAction)&#123;</span><br><span class="line">                  ToastAndroid.show(&apos;选择时间为:&apos; + this._formatTime(hour, minute), ToastAndroid.SHORT);</span><br><span class="line">              &#125; else if (action === TimePickerAndroid.dismissedAction) &#123;</span><br><span class="line">                  ToastAndroid.show(&apos;选择器关闭取消&apos;, ToastAndroid.SHORT);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125; catch (&#123;code, message&#125;)&#123;</span><br><span class="line">           ToastAndroid.show(&apos;错误信息:&apos; + message, ToastAndroid.SHORT);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      _formatTime(hour, minute)&#123;</span><br><span class="line">          return hour + &quot;:&quot; + (minute &lt; 10 ? &apos;0&apos; + minute : minute);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View&gt;</span><br><span class="line">                &lt;Text style=&#123;&#123;margin: 10&#125;&#125;&gt;</span><br><span class="line">                    Welcome to React Native! TimePickerAndroid 实例</span><br><span class="line">                &lt;/Text&gt;</span><br><span class="line">                &lt;CustomButton</span><br><span class="line">                    text = &apos;时间选择器默认当前时间&apos;</span><br><span class="line">                    onPress=&#123;this.showPicker.bind(this,&#123;&#125;)&#125;/&gt;</span><br><span class="line">                &lt;CustomButton</span><br><span class="line">                    text = &apos;时间选择器-指定时间:20:34&apos;</span><br><span class="line">                    onPress=&#123;this.showPicker.bind(this,</span><br><span class="line">                        &#123;hour: 4,minute: 34&#125;</span><br><span class="line">                    )&#125;/&gt;</span><br><span class="line">                &lt;CustomButton</span><br><span class="line">                    text = &apos;时间选择器-指定时间以及时间制格式&apos;</span><br><span class="line">                    onPress=&#123;this.showPicker.bind(this,</span><br><span class="line">                        &#123;hour: 20, minute: 34, is24Hour: true&#125;)&#125;</span><br><span class="line">                /&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    button: &#123;</span><br><span class="line">        margin: 5,</span><br><span class="line">        backgroundColor: &apos;white&apos;,</span><br><span class="line">        padding: 15,</span><br><span class="line">        borderBottomWidth: StyleSheet.hairlineWidth,</span><br><span class="line">        borderBottomColor: &apos;#cdcdcd&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppTimePickerAndroid&apos;, () =&gt; RNAppTimePickerAndroid);</span><br></pre></td></tr></table></figure></p>
<p>运行后看到是效果如下,左图为默认当前时间,右图是给定显示某个时间:<br><img src="/images/2016-07-29-11-15-11.png" width="300" height="500">  <img src="/images/016-07-29-11-13-39.png" width="300" height="500"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TimePickerAndroid/">TimePickerAndroid</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/20-React-Native之StatusBar组件学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/28/React-Native/20-React-Native之StatusBar组件学习/" class="article-date">
      <time datetime="2016-07-28T13:44:28.000Z" itemprop="datePublished">2016-07-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/28/React-Native/20-React-Native之StatusBar组件学习/">20.React-Native之StatusBar组件学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-StatusBar组件介绍"><a href="#1-StatusBar组件介绍" class="headerlink" title="1. StatusBar组件介绍"></a>1. StatusBar组件介绍</h3><p><code>StatusBar</code>状态栏组件用来实现控制应用的状态栏的效果。根据官方文档说明了StatusBar(状态栏)和Navigator(导航器)搭配的用法：<br>  StatusBar组件可以同时加载多个组件，该组件的属性可以按照加载的顺序进行合并。一种常见的用法就是:我们可以在使用Navitator的时候，针对不同的路由页面进行设置特殊的状态栏样式。具体可以看一下官方实例代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;View&gt;</span><br><span class="line">  &lt;StatusBar</span><br><span class="line">    backgroundColor=&quot;blue&quot;</span><br><span class="line">    barStyle=&quot;light-content&quot;</span><br><span class="line">  /&gt;</span><br><span class="line">  &lt;Navigator</span><br><span class="line">    initialRoute=&#123;&#123;statusBarHidden: true&#125;&#125;</span><br><span class="line">    renderScene=&#123;(route, navigator) =&gt;</span><br><span class="line">      &lt;View&gt;</span><br><span class="line">        &lt;StatusBar hidden=&#123;route.statusBarHidden&#125; /&gt;</span><br><span class="line">        ...</span><br><span class="line">      &lt;/View&gt;</span><br><span class="line">    &#125;</span><br><span class="line">  /&gt;</span><br><span class="line">&lt;/View&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="2-StatusBar组件属性"><a href="#2-StatusBar组件属性" class="headerlink" title="2. StatusBar组件属性"></a>2. StatusBar组件属性</h3><ol>
<li><code>animated</code> bool   进行设置当状态栏的状态发生变化的时候是否需要加入动画。当前该动画支持backgroundColor,barStyle和hidden属性</li>
<li><code>hidden</code>  bool  进行设置状态栏是否隐藏</li>
<li><code>backgroundColor</code>   color类型，仅支持Android设备，设置状态栏的背景颜色</li>
<li><code>translucent</code> bool类型，仅支持Android设备, 进行设置状态栏是否为透明。当状态栏的值为true的时候，应用将会在状态栏下面进行绘制显示。这样在Android平台上面就是沉浸式的效果，可以达到Android和iOS应用一致性效果。该值常常配置半透明效果的状态栏颜色一起使用</li>
<li><code>barStyle</code>  enum(‘default’,’light-content’)  枚举类型，仅支持iOS设备。进行设置状态栏文字的颜色</li>
<li><code>networkActivityIndicatorVisible</code>   bool类型，仅支持iOS设备。设置状态栏上面的网络进度加载器是否进行显示</li>
<li><code>showHideTransition</code>   enum(‘fade’,’slide’) 枚举类型，仅支持iOS设备。进行设置当隐藏或者显示状态栏的时候的动画效果。默认值为’fade’</li>
</ol>
<h3 id="2-StatusBar组件实例"><a href="#2-StatusBar组件实例" class="headerlink" title="2. StatusBar组件实例"></a>2. StatusBar组件实例</h3><p>具体实例代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    StatusBar,</span><br><span class="line">    TouchableHighlight</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class CustomButton extends React.Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;TouchableHighlight</span><br><span class="line">                style=&#123;styles.button&#125;</span><br><span class="line">                underlayColor=&apos;#a5a5a5&apos;</span><br><span class="line">                onPress=&#123;this.props.onPress&#125;&gt;</span><br><span class="line">                &lt;Text &gt;&#123;this.props.text&#125;&lt;/Text&gt;</span><br><span class="line">            &lt;/TouchableHighlight&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RNAppStatusBar extends Component &#123;</span><br><span class="line"></span><br><span class="line">    // 构造</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        // 初始状态</span><br><span class="line">        this.state = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">                &lt;StatusBar</span><br><span class="line">                    backgroundColor=&apos;green&apos;</span><br><span class="line">                    translucent = &#123;true&#125;</span><br><span class="line">                    hidden = &#123;true&#125;</span><br><span class="line">                    andimated = &#123;true&#125;</span><br><span class="line">                &gt;</span><br><span class="line">                &lt;CustomButton text = &apos;状态栏隐藏透明效果&apos;/&gt;</span><br><span class="line">                &lt;/StatusBar&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    button: &#123;</span><br><span class="line">        margin: 5,</span><br><span class="line">        backgroundColor: &apos;white&apos;,</span><br><span class="line">        padding: 15,</span><br><span class="line">        borderBottomWidth: StyleSheet.hairlineWidth,</span><br><span class="line">        borderBottomColor: &apos;#cdcdcd&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppStatusBar&apos;, () =&gt; RNAppStatusBar);</span><br></pre></td></tr></table></figure></p>
<p>运行后的效果就是手机的转态栏变透明了.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/StatusBar/">StatusBar</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/19-React-Native之DatePickerAndroid学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/27/React-Native/19-React-Native之DatePickerAndroid学习/" class="article-date">
      <time datetime="2016-07-27T13:21:35.000Z" itemprop="datePublished">2016-07-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/27/React-Native/19-React-Native之DatePickerAndroid学习/">19.React-Native之DatePickerAndroid学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-DatePickerAndroid组件介绍"><a href="#1-DatePickerAndroid组件介绍" class="headerlink" title="1. DatePickerAndroid组件介绍"></a>1. DatePickerAndroid组件介绍</h3><p><code>DatePickerAndroid</code>是Android系统原生的时间控件,<code>DatePickerAndroid</code>控件会进行加载打开一个标准的Android时间日期选择器弹框，注意该控件只适合Android平台.</p>
<h3 id="2-DatePickerAndroid组件方法"><a href="#2-DatePickerAndroid组件方法" class="headerlink" title="2. DatePickerAndroid组件方法"></a>2. DatePickerAndroid组件方法</h3><ol>
<li><code>Promise&lt;Object&gt; open(options:Object)</code>   <code>staitc</code>,静态方法，使用该方法进行加载弹出一个标准的Android时间日期选择器。该options(可选)参数有以下三种对象:<ul>
<li><code>:&#39;date&#39;</code>   日期Date对象或者时间戳以毫秒单位-日期已默认格式显示</li>
<li><code>:&#39;minDate&#39;</code>  日期Date对象或者时间戳以毫秒单位-可以选择的最小时间</li>
<li><code>:&#39;maxDate&#39;</code> 日期Date对象或者时间戳以毫秒单位-可以选择的最大时间<br>该方法返回一个Promise对象，如果用户选择了日期，则会被一个包含’action’，’year’,’month(0-11)’,’day’的对象调用。如果用户关闭了选择器，那么该Promise对象将会使用’DatePickerAndroid.dismissedAction’调用<br>[<code>注意</code>]: 原生的时间日期选择器当我们在使用’minDate’和’maxDate’参数的时候，可能在Android 4.0或者更低版本中出现界面不同的情况</li>
</ul>
</li>
<li><code>dateSetAction()</code> ,static静态方法，选择时间日期选择器</li>
<li><code>dismissedAction()</code>,static静态方法，关闭时间日期选择器</li>
</ol>
<h3 id="3-DatePickerAndroid组件实例"><a href="#3-DatePickerAndroid组件实例" class="headerlink" title="3. DatePickerAndroid组件实例"></a>3. DatePickerAndroid组件实例</h3><p>下面用这个实例来对于DatePickerAndroid组件进行详细演示，具体实例代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    DatePickerAndroid,</span><br><span class="line">    TouchableHighlight</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class CustomButton extends Component &#123;</span><br><span class="line">    render () &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;TouchableHighlight</span><br><span class="line">                style=&#123;styles.button&#125;</span><br><span class="line">                underlayColor= &apos;#a5a5a5&apos;</span><br><span class="line">                onPress=&#123;this.props.onPress&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.buttonText&#125;&gt;&#123;this.props.text&#125;&lt;/Text&gt;</span><br><span class="line">            &lt;/TouchableHighlight&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RNAppDatePickerAndroid extends Component &#123;</span><br><span class="line"></span><br><span class="line">    // 构造</span><br><span class="line">      constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        // 初始状态</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            presetDate: new Date(2016, 3, 5),</span><br><span class="line">            allDate: new Date(2020, 4, 5),</span><br><span class="line">            simpleText: &apos;选择日期,默认今天&apos;,</span><br><span class="line">            minText: &apos;选择日期,不能比今天早&apos;,</span><br><span class="line">            maxText: &apos;选择日期,不能比今天晚&apos;,</span><br><span class="line">            presetText: &apos;选择日期, 指定 2016/3/5&apos;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // 进行创建时间日期选择器</span><br><span class="line">    async showPicker(stateKey, options)&#123;</span><br><span class="line">        try&#123;</span><br><span class="line">            var newState = &#123;&#125;;</span><br><span class="line">            const &#123;action, year, month, day&#125; = await DatePickerAndroid.open(options);</span><br><span class="line">            if(action === DatePickerAndroid.dismissedAction)&#123;</span><br><span class="line">                newState[stateKey + &apos;Text&apos;] = &apos;dismissed&apos;;</span><br><span class="line">            &#125; else&#123;</span><br><span class="line">                var date = new Date(year, month, day);</span><br><span class="line">                newState[stateKey + &apos;Text&apos;] = date.toLocaleString();</span><br><span class="line">                newState[stateKey + &apos;Date&apos;] = date;</span><br><span class="line">            &#125;</span><br><span class="line">            this.setState(newState);</span><br><span class="line">        &#125;catch (&#123;code, message&#125;)&#123;</span><br><span class="line">            console.warn(`Error in example &apos;$&#123;stateKey&#125;&apos;: `, message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.welcome&#125;&gt;</span><br><span class="line">                    日期选择器组件实例</span><br><span class="line">                &lt;/Text&gt;</span><br><span class="line">                &lt;TouchableHighlight</span><br><span class="line">                    style=&#123;styles.button&#125;</span><br><span class="line">                    underlayColor=&quot;#a5a5a5&quot;</span><br><span class="line">                    onPress=&#123;this.showPicker.bind(this, &apos;simple&apos;, &#123;date: this.state.simpleDate&#125;)&#125;&gt;</span><br><span class="line">                    &lt;Text style=&#123;styles.buttonText&#125;&gt;点击弹出基本日期选择器&lt;/Text&gt;</span><br><span class="line">                &lt;/TouchableHighlight&gt;</span><br><span class="line">                &lt;CustomButton text=&#123;this.state.presetText&#125;</span><br><span class="line">                              onPress=&#123;this.showPicker.bind(this, &apos;preset&apos;, &#123;date: this.state.presetDate&#125;)&#125;/&gt;</span><br><span class="line">                &lt;CustomButton text=&#123;this.state.minText&#125;</span><br><span class="line">                              onPress=&#123;this.showPicker.bind(this, &apos;min&apos;, &#123;date: this.state.minDate,minDate:new Date()&#125;)&#125;/&gt;</span><br><span class="line">                &lt;CustomButton text=&#123;this.state.maxText&#125;</span><br><span class="line">                              onPress=&#123;this.showPicker.bind(this, &apos;max&apos;, &#123;date: this.state.maxDate,maxDate:new Date()&#125;)&#125;/&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    formateDate (format) &#123;</span><br><span class="line">        var o = &#123;</span><br><span class="line">            &quot;M+&quot; : this.getMonth()+1, //month</span><br><span class="line">            &quot;d+&quot; : this.getDate(), //day</span><br><span class="line">            &quot;h+&quot; : this.getHours(), //hour</span><br><span class="line">            &quot;m+&quot; : this.getMinutes(), //minute</span><br><span class="line">            &quot;s+&quot; : this.getSeconds(), //second</span><br><span class="line">            &quot;q+&quot; : Math.floor((this.getMonth()+3)/3), //quarter</span><br><span class="line">            &quot;S&quot; : this.getMilliseconds() //millisecond</span><br><span class="line">        &#125;</span><br><span class="line">        if(/(y+)/.test(format)) format=format.replace(RegExp.$1,</span><br><span class="line">            (this.getFullYear()+&quot;&quot;).substr(4- RegExp.$1.length));</span><br><span class="line">        for(var k in o)if(new RegExp(&quot;(&quot;+ k +&quot;)&quot;).test(format))</span><br><span class="line">            format = format.replace(RegExp.$1,</span><br><span class="line">                RegExp.$1.length==1? o[k] :</span><br><span class="line">                    (&quot;00&quot;+ o[k]).substr((&quot;&quot;+ o[k]).length));</span><br><span class="line">        return format;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        flex: 1,</span><br><span class="line">        justifyContent: &apos;center&apos;,</span><br><span class="line">        alignItems: &apos;center&apos;,</span><br><span class="line">        backgroundColor: &apos;#F5FCFF&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    welcome: &#123;</span><br><span class="line">        fontSize: 20,</span><br><span class="line">        textAlign: &apos;center&apos;,</span><br><span class="line">        margin: 10,</span><br><span class="line">    &#125;,</span><br><span class="line">    button: &#123;</span><br><span class="line">        margin: 5,</span><br><span class="line">        backgroundColor: &apos;white&apos;,</span><br><span class="line">        borderBottomWidth: StyleSheet.hairlineWidth,</span><br><span class="line">        padding: 15,</span><br><span class="line">        borderBottomColor: &apos;#cdcdcd&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppDatePickerAndroid&apos;, () =&gt; RNAppDatePickerAndroid);</span><br></pre></td></tr></table></figure></p>
<p>运行后看到的效果如下图(android 5.0 os):<br><img src="/images/201607260003.gif"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DatePickerAndroid/">DatePickerAndroid</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/18-React-Native之Clipboard组件学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/26/React-Native/18-React-Native之Clipboard组件学习/" class="article-date">
      <time datetime="2016-07-26T08:19:56.000Z" itemprop="datePublished">2016-07-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/26/React-Native/18-React-Native之Clipboard组件学习/">18.React-Native之Clipboard组件学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-Clipboard组件介绍"><a href="#1-Clipboard组件介绍" class="headerlink" title="1. Clipboard组件介绍"></a>1. Clipboard组件介绍</h3><p><code>Clipboard</code>组件可以复制信息保存到粘贴板中或者从粘贴板中取数据</p>
<h3 id="2-Clipboard组件属性方法"><a href="#2-Clipboard组件属性方法" class="headerlink" title="2. Clipboard组件属性方法"></a>2. Clipboard组件属性方法</h3><ol>
<li><code>setString(message:string)</code>  static 静态方法  直接Clipboard调用该方法，设置相关内从到粘贴板中</li>
<li><code>getString()</code>   static静态方法   直接Clipboard调用该方法，从粘贴板中获取内容</li>
</ol>
<h3 id="3-Clipboard组件实例演示"><a href="#3-Clipboard组件实例演示" class="headerlink" title="3. Clipboard组件实例演示"></a>3. Clipboard组件实例演示</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    Clipboard,</span><br><span class="line">    ToastAndroid</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class RNAppCilpboard extends Component &#123;</span><br><span class="line"></span><br><span class="line">    // 构造</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        // 初始状态</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            content: &apos;需要保存的内容: &apos;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    async _setClipboardContent() &#123;</span><br><span class="line">        Clipboard.setString(&apos;Heoo ,React-Native&apos;);</span><br><span class="line">        try &#123;</span><br><span class="line">            var content = await Clipboard.getString();</span><br><span class="line">            ToastAndroid.show(&apos;粘贴板上的内容为: &apos; + content, ToastAndroid.SHORT);</span><br><span class="line">        &#125; catch (e) &#123;</span><br><span class="line">            ToastAndroid.show(e.message, ToastAndroid.SHORT);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.welcome&#125;&gt;</span><br><span class="line">                    Clipboard 粘贴板演示 setString, getString 方法</span><br><span class="line">                &lt;/Text&gt;</span><br><span class="line">                &lt;Text</span><br><span class="line">                    onPress=&#123;this. _setClipboardContent&#125;</span><br><span class="line">                    style=&#123;styles.instructions&#125;&gt;</span><br><span class="line">                    点击我 复制 &apos;Heoo ,React-Native&apos; 添加到粘贴板,弹出Tost显示内容</span><br><span class="line">                &lt;/Text&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        flex: 1,</span><br><span class="line">        justifyContent: &apos;center&apos;,</span><br><span class="line">        alignItems: &apos;center&apos;,</span><br><span class="line">        backgroundColor: &apos;#F5FCFF&apos;,</span><br><span class="line">    &#125;,</span><br><span class="line">    welcome: &#123;</span><br><span class="line">        fontSize: 16,</span><br><span class="line">        textAlign: &apos;left&apos;,</span><br><span class="line">        margin: 10,</span><br><span class="line">        marginLeft: 10</span><br><span class="line">    &#125;,</span><br><span class="line">    instructions: &#123;</span><br><span class="line">        textAlign: &apos;center&apos;,</span><br><span class="line">        color: &apos;green&apos;,</span><br><span class="line">        marginBottom: 5,</span><br><span class="line">        fontSize:20</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppCilpboard&apos;, () =&gt; RNAppCilpboard);</span><br></pre></td></tr></table></figure>
<p>运行后看到的效果如下图:<br><img src="/images/1260726002.gif"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Clipboard/">Clipboard</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/17-React-Native之Navigator组件学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/26/React-Native/17-React-Native之Navigator组件学习/" class="article-date">
      <time datetime="2016-07-26T07:02:21.000Z" itemprop="datePublished">2016-07-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/26/React-Native/17-React-Native之Navigator组件学习/">17.React-Native之Navigator组件学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-Navigator组件介绍"><a href="#1-Navigator组件介绍" class="headerlink" title="1. Navigator组件介绍"></a>1. Navigator组件介绍</h3><p><code>Navigator</code>组件(导航栏)可以让我们客户端在不同的页面见进行切换，<code>Navigator</code>提供了路由对象功能进行区分识别每一个页面。同时我们可以通过<code>renderScene</code>方法，<code>Navaigator</code>根据指定的路由进行渲染指定的界面.<br>除了以上功能之外，为了改变页面切换的动画或者页面的手势，该组件还提供<code>configureScene</code>属性来进行获取指定路由页面的配置对象信息(<a href="https://github.com/facebook/react-native/blob/master/Libraries/CustomComponents/Navigator/NavigatorSceneConfigs.js" target="_blank" rel="external">官方介绍</a>)<br>关于动画手势还有一些属性:</p>
<ol>
<li>PushFromRight</li>
<li>FloatFromRight</li>
<li>FloatFromLeft</li>
<li>FloatFromBottom</li>
<li>FloatFromBottomAndroid</li>
<li>FadeAndroid</li>
<li>HorizontalSwipeJump</li>
<li>HorizontalSwipeJumpRight</li>
<li>VerticalUpSwipeJump</li>
<li>VerticalDownSwipeJump</li>
</ol>
<h3 id="2-Navigator组件方法和属性"><a href="#2-Navigator组件方法和属性" class="headerlink" title="2. Navigator组件方法和属性"></a>2. Navigator组件方法和属性</h3><p>在使用导航器的时候如果已经获取了导航器对象的引用，我们可以进行调用以下一些方法来实现页面导航功能:<br> 方法:</p>
<ol>
<li><code>getCurrentRoutes()</code>    该进行返回存在的路由列表信息</li>
<li><code>jumpBack()</code>    该方法进行回退操作  但是不会卸载(删除)当前的页面</li>
<li><code>jumpForward()</code>    进行跳转到相当于当前页面的下一个页面</li>
<li><code>jumpTo(route)</code>    根据传入的一个路由信息，跳转到一个指定的页面(该页面不会卸载删除)</li>
<li><code>push(route)</code>    导航切换到一个新的页面中，新的页面进行压入栈。通过jumpForward()方法可以回退过去</li>
<li><code>pop()</code>   当前页面弹出来，跳转到栈中下一个页面，并且卸载删除掉当前的页面</li>
<li><code>replace(route)</code>   只用传入的路由的指定页面进行替换掉当前的页面</li>
<li><code>replaceAtIndex(route,index)</code>     传入路由以及位置索引，使用该路由指定的页面跳转到指定位置的页面</li>
<li><code>replacePrevious(route)</code>    传入路由，通过指定路由的页面替换掉前一个页面</li>
<li><code>resetTo(route)</code>  进行导航到新的界面，并且重置整个路由栈</li>
<li><code>immediatelyResetRouteStack(routeStack)</code>  该通过一个路由页面数组来进行重置路由栈</li>
<li><code>popToRoute(route)</code>   进行弹出相关页面，跳转到指定路由的页面，弹出来的页面会被卸载删除</li>
<li><code>popToTop()</code> 进行弹出页面，导航到栈中的第一个页面，弹出来的所有页面会被卸载删除<br>属性:</li>
<li><code>configureScene</code>  function 方法，为可选的方法进行配置页面切换动画和手势,会通过路由和路由栈两个参数调用，进行返回一个页面参数配置对象：(route, routeStack) =&gt; Navigator.SceneConfigs.FloatFromRight</li>
<li><code>initialRoute</code>  object  参数对象  进行设置导航初始化的路由页面。路由是标识导航器渲染标识每一个页面的对象。initialRoute必须为initialRouteStack中的路由。同时initialRoute默认为initialRouteStack中路由栈的最后一项</li>
<li><code>initialRouteStack</code>  [object] 参数对象数组   该是一个初始化的路由数组进行初始化。如果initalRoute属性没有设置的话，那么就必须设置initialRouteStack属性，使用该最后一项作为初始路由。 如果initalRouteStack属性没有设置的话，该会生成只包含initalRoute值的数组</li>
<li><code>navigationBar</code>  node  为可选的参数，在页面切换中用来提供一个导航栏</li>
<li><code>navigator</code> object   为可选参数，可以从父类导航器中获取导航器对象</li>
<li><code>onDidFoucs</code>  function  该方法已经废弃，我们可以使用</li>
<li><code>navigationContext.addListener(&#39;didfocus&#39;,callback)</code>方法进行替代。该会在每次页面切换完成或者初始化之后进行调用该方法。该参数为新页面的路由</li>
<li><code>onWillFocus</code> function  该方法已经废弃，我们可以使用<code>navigationContext.addListener(&#39;willfocus&#39;,callback)</code>方法进行替代。该会页面每次进行切换之前调用</li>
<li><code>renderScene</code>  function  该为必须调用的方法，该用来渲染每一个路由指定的页面。参数为路由以及导航器对象两个参数，具体是方法如下:(route, navigator) =&gt;<myscenecomponent title="{route.title}" navigator="{navigator}"></myscenecomponent></li>
<li><code>sceneStyle</code> 样式风格，该继承了View视图的所有样式风格。可以参照:<a href="http://facebook.github.io/react-native/docs/view.html#content" target="_blank" rel="external">官方样式</a> ，设置用于每个页面容器的风格</li>
</ol>
<h3 id="4-Navigator组件实例"><a href="#4-Navigator组件实例" class="headerlink" title="4. Navigator组件实例"></a>4. Navigator组件实例</h3><p> 实例具体代码如下:<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">    TouchableHighlight,</span><br><span class="line">    Navigator</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">class NavButton extends Component &#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;TouchableHighlight</span><br><span class="line">                style=&#123;styles.button&#125;</span><br><span class="line">                underlayColor=&quot;#b5b5b5&quot;</span><br><span class="line">                onPress=&#123;this.props.onPress&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.buttonText&#125;&gt;&#123;this.props.text&#125;&lt;/Text&gt;</span><br><span class="line">            &lt;/TouchableHighlight&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class NavMenu extends Component&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return(</span><br><span class="line">            &lt;View style=&#123;styles.scene&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.messageText&#125;&gt;&#123;this.props.message&#125;&lt;/Text&gt;</span><br><span class="line">                &lt;NavButton</span><br><span class="line">                    onPress=&#123;() =&gt; &#123;</span><br><span class="line">                        this.props.navigator.push(&#123;</span><br><span class="line">                            message: &apos;向右拖拽关闭页面&apos;,</span><br><span class="line">                            sceneConfig: Navigator.SceneConfigs.FloatFromRight</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;&#125;</span><br><span class="line">                    text = &apos;从右边向左切入页面(带有透明度变化)&apos;</span><br><span class="line">                /&gt;</span><br><span class="line">                &lt;NavButton</span><br><span class="line">                    onPress=&#123;() =&gt; &#123;</span><br><span class="line">                        this.props.navigator.push(&#123;</span><br><span class="line">                            message: &apos;向下拖拽关闭页面&apos;,</span><br><span class="line">                            sceneConfig: Navigator.SceneConfigs.FloatFromBottom,</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;&#125;</span><br><span class="line">                    text=&quot;从下往上切入页面(带有透明度变化)&quot;</span><br><span class="line">                /&gt;</span><br><span class="line">                &lt;NavButton</span><br><span class="line">                    onPress=&#123;() =&gt; &#123;</span><br><span class="line">                        this.props.navigator.popToTop();</span><br><span class="line">                    &#125;&#125;</span><br><span class="line">                    text = &apos;页面弹出(回退到最后一页)&apos;</span><br><span class="line">                /&gt;</span><br><span class="line">                &lt;NavButton</span><br><span class="line">                    onPress=&#123;() =&gt; &#123;</span><br><span class="line">                        this.props.navigator.pop();</span><br><span class="line">                    &#125;&#125;</span><br><span class="line">                    text = &apos;页面弹出(回退一页)&apos;</span><br><span class="line">                /&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RNAppNavigator extends Component&#123;</span><br><span class="line">    render() &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;Navigator</span><br><span class="line">                style=&#123;styles.container&#125;</span><br><span class="line">                initialRoute= &#123;&#123;message: &apos;页面初始化&apos;&#125;&#125;</span><br><span class="line">                renderScene= &#123;(route, navigator) =&gt; &lt;NavMenu</span><br><span class="line">                    message = &#123;route.message&#125; navigator = &#123;navigator&#125;/&gt;&#125;</span><br><span class="line">                configureScene=&#123;(route) =&gt; &#123;</span><br><span class="line">                    if (route.sceneConfig) &#123;</span><br><span class="line">                        return route.sceneConfig;</span><br><span class="line">                    &#125;</span><br><span class="line">                    return Navigator.SceneConfigs.FloatFromBottom;</span><br><span class="line">                &#125;&#125;</span><br><span class="line">            /&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    container: &#123;</span><br><span class="line">        flex: 1</span><br><span class="line">    &#125;,</span><br><span class="line">    messageText: &#123;</span><br><span class="line">        fontSize: 17,</span><br><span class="line">        fontWeight: &apos;500&apos;,</span><br><span class="line">        padding: 15,</span><br><span class="line">        marginTop: 50,</span><br><span class="line">        marginLeft: 15</span><br><span class="line">    &#125;,</span><br><span class="line">    button: &#123;</span><br><span class="line">        backgroundColor: &apos;white&apos;,</span><br><span class="line">        padding: 15,</span><br><span class="line">        borderBottomWidth: StyleSheet.hairlineWidth,</span><br><span class="line">        borderBottomColor: &apos;#cdcdcd&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppNavigator&apos;, () =&gt; RNAppNavigator);</span><br></pre></td></tr></table></figure></p>
<p> 最后运行出来的效果如下:<br> <img src="/images/1260726001.gif"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Navigator/">Navigator</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/16-React-Native之RefreshControl组件学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/21/React-Native/16-React-Native之RefreshControl组件学习/" class="article-date">
      <time datetime="2016-07-21T08:09:16.000Z" itemprop="datePublished">2016-07-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/21/React-Native/16-React-Native之RefreshControl组件学习/">16.React-Native之RefreshControl组件学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-RefreshControl组件介绍"><a href="#1-RefreshControl组件介绍" class="headerlink" title="1. RefreshControl组件介绍"></a>1. RefreshControl组件介绍</h3><p>该组件也可以实现下拉刷新的功能，是用在ScrollView的内部的，为ScrollView添加一个下拉刷新的功能。当ScrollView的垂直方向的偏移量scrollY:0的时候，手指往下拖拽ScrollView就会触发onRefresh事件方法</p>
<h3 id="2-RefreshControl属性方法"><a href="#2-RefreshControl属性方法" class="headerlink" title="2. RefreshControl属性方法"></a>2. RefreshControl属性方法</h3><ol>
<li><code>onRefresh</code>  function方法 当视图开始刷新的时候调用</li>
<li><code>refreshing</code>  bool  决定加载进去指示器是否为活跃状态，也表明当前是否在刷新中</li>
<li><code>colors</code> [ColorPropType]   android平台适用  进行设置加载进去指示器的颜色，至少设置一种，最多可以设置4种</li>
<li><code>enabled</code>  bool   android平台适用   用来设置下拉刷新功能是否可用</li>
<li><code>progressBackgroundColor</code> ColorPropType  设置加载进度指示器的背景颜色</li>
<li><code>size</code> RefreshLayoutConsts.SIZE.DEFAULT  android平台适用  加载进度指示器的尺寸大小 ，具体可以查看RefreshControl.SIZE <a href="https://github.com/facebook/react-native/blob/master/Libraries/Components/RefreshControl/RefreshControl.js" target="_blank" rel="external">官方介绍</a></li>
<li><code>tintColor</code> ColorPropType   iOS平台适用  设置加载进度指示器的颜色</li>
<li><code>title</code> string iOS平台适用  设置加载进度指示器下面的标题文本信息</li>
</ol>
<h3 id="3-RefreshControl-实例"><a href="#3-RefreshControl-实例" class="headerlink" title="3. RefreshControl 实例"></a>3. RefreshControl 实例</h3><p>以下代码在官方实例中进行修改而来，具体代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">import React, &#123;Component&#125; from &apos;react&apos;;</span><br><span class="line">import &#123;</span><br><span class="line">    AppRegistry,</span><br><span class="line">    ScrollView,</span><br><span class="line">    StyleSheet,</span><br><span class="line">    RefreshControl,</span><br><span class="line">    Text,</span><br><span class="line">    View,</span><br><span class="line">&#125; from &apos;react-native&apos;;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">    row: &#123;</span><br><span class="line">        borderColor: &apos;red&apos;,</span><br><span class="line">        borderWidth: 5,</span><br><span class="line">        padding: 20,</span><br><span class="line">        backgroundColor: &apos;#3a5795&apos;,</span><br><span class="line">        margin: 5</span><br><span class="line">    &#125;,</span><br><span class="line">    text: &#123;</span><br><span class="line">        alignSelf: &apos;center&apos;,</span><br><span class="line">        color: &apos;#fff&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    scrollview: &#123;</span><br><span class="line">        flex: 1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Row extends Component&#123;</span><br><span class="line">    _onClick () &#123;</span><br><span class="line">        this.props.onClick(this.props.data);</span><br><span class="line">    &#125;</span><br><span class="line">    render () &#123;</span><br><span class="line">        return (</span><br><span class="line">            &lt;View style=&#123;styles.row&#125;&gt;</span><br><span class="line">                &lt;Text style=&#123;styles.text&#125;&gt;</span><br><span class="line">                    &#123;this.props.data.text&#125;</span><br><span class="line">                &lt;/Text&gt;</span><br><span class="line">            &lt;/View&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class RNAppRefreshControl extends Component &#123;</span><br><span class="line">    // 构造</span><br><span class="line">    constructor(props) &#123;</span><br><span class="line">        super(props);</span><br><span class="line">        this.state = &#123;</span><br><span class="line">            isRefreshing: false,</span><br><span class="line">            loaded: 0,</span><br><span class="line">            rowData: Array.from(new Array(20)).map(</span><br><span class="line">                (val, i) =&gt; (&#123;text: &apos;初始行 &apos; + i&#125;))</span><br><span class="line">        &#125;;</span><br><span class="line">        // 初始状</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    render() &#123;</span><br><span class="line">        const rows = this.state.rowData.map((row, ii) =&gt; &#123;</span><br><span class="line">            return &lt;Row key=&#123;ii&#125; data=&#123;row&#125;/&gt;;</span><br><span class="line">        &#125;);</span><br><span class="line">        return (</span><br><span class="line">            &lt;ScrollView</span><br><span class="line">                style=&#123;styles.scrollview&#125;</span><br><span class="line">                refreshControl=&#123;</span><br><span class="line">          &lt;RefreshControl</span><br><span class="line">            refreshing=&#123;this.state.isRefreshing&#125;</span><br><span class="line">            onRefresh = &#123;this._onRefresh.bind(this)&#125;</span><br><span class="line">            colors=&#123;[&apos;#ff0000&apos;, &apos;#00ff00&apos;, &apos;#0000ff&apos;,&apos;#3ad564&apos;]&#125;</span><br><span class="line">            progressBackgroundColor=&quot;#ffffff&quot;</span><br><span class="line">          /&gt;</span><br><span class="line">        &#125;&gt;</span><br><span class="line">                &#123;rows&#125;</span><br><span class="line">            &lt;/ScrollView&gt;</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">    _onRefresh() &#123;</span><br><span class="line">        this.setState(&#123;isRefreshing: true&#125;);</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            // 准备下拉刷新的5条数据</span><br><span class="line">            const rowData = Array.from(new Array(5))</span><br><span class="line">                .map((val, i) =&gt; (&#123;</span><br><span class="line">                    text: &apos;刷新行 &apos; + (+this.state.loaded + i)</span><br><span class="line">                &#125;))</span><br><span class="line">                .concat(this.state.rowData);</span><br><span class="line"></span><br><span class="line">            this.setState(&#123;</span><br><span class="line">                loaded: this.state.loaded + 5,</span><br><span class="line">                isRefreshing: false,</span><br><span class="line">                rowData: rowData</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;, 5000);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppRefreshControl&apos;, () =&gt; RNAppRefreshControl);</span><br></pre></td></tr></table></figure></p>
<p>运行后看到的效果如下:<br><img src="/images/2016-07-2116-29-22.png"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RefreshControl/">RefreshControl</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-React-Native/15-React-Native之PullToRefreshView组件学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/21/React-Native/15-React-Native之PullToRefreshView组件学习/" class="article-date">
      <time datetime="2016-07-21T03:09:09.000Z" itemprop="datePublished">2016-07-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/21/React-Native/15-React-Native之PullToRefreshView组件学习/">15.React-Native之PullToRefreshView组件学习</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>本文查考<code>From Sky丶清（http://www.lcode.org/）</code> 的 <a href="http://www.lcode.org/react-native/" target="_blank" rel="external">React Native专题</a></p>
<h3 id="1-PullToRefreshViewAndroid组件-介绍"><a href="#1-PullToRefreshViewAndroid组件-介绍" class="headerlink" title="1. PullToRefreshViewAndroid组件 介绍"></a>1. PullToRefreshViewAndroid组件 介绍</h3><p><code>PullToRefreshViewAndroid</code>视图是封装了Android平台的下拉刷新组件(<code>SwipeRefreshLayout</code>)，该组件支持设置单一的可以滚动的子视图(例如:ScrollView)。当内部的子视图的垂直方向的偏移量scrollY:0的时候，手指往下拖拽该视图的时候回触发onRefresh事件方法<br><code>注意</code>该组件风格需要设置成{flex:1}。当我们滚动的子视图为ScrollView或者ListView的时候</p>
<h3 id="2-PullToRefreshViewAndroid-属性方法"><a href="#2-PullToRefreshViewAndroid-属性方法" class="headerlink" title="2.PullToRefreshViewAndroid 属性方法"></a>2.PullToRefreshViewAndroid 属性方法</h3><ol>
<li>继承可以使用View组件的所有Style(具体查看<a href="http://facebook.github.io/react-native/docs/view.html#style" target="_blank" rel="external">官方介绍</a>)</li>
<li><code>colors</code> [ColorPropType] 设置下拉刷新加载进度指示器的颜色，可以设置多种颜色(最多设置四种)</li>
<li><code>enabled</code>  boolean  设置是否启动下拉刷新的功能</li>
<li><code>progressBackgroundColor</code>   ColorPropType   设置设置下拉刷新加载进去指示器的背景颜色</li>
<li><code>refreshing</code> boolean   设置当前进去指示器是否在活跃状态，也表明当前是不是在下拉刷新状态</li>
<li>size   RefreshLayoutConsts.SIZE.DEFAULT   下拉刷新指示器的尺寸大小，详细请查看PullToRefreshViewAndroid.SIZE 的<a href="https://github.com/facebook/react-native/blob/master/Libraries/PullToRefresh/PullToRefreshViewAndroid.android.js" target="_blank" rel="external">官方介绍</a></li>
</ol>
<h3 id="3-PullToRefreshViewAndroid-实例"><a href="#3-PullToRefreshViewAndroid-实例" class="headerlink" title="3.PullToRefreshViewAndroid  实例"></a>3.PullToRefreshViewAndroid  实例</h3><ol>
<li>类似官方实例,代码如下:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line"></span><br><span class="line">const React = require(&apos;react-native&apos;);</span><br><span class="line">const &#123;</span><br><span class="line">  AppRegistry,</span><br><span class="line">  ScrollView,</span><br><span class="line">  StyleSheet,</span><br><span class="line">  PullToRefreshViewAndroid,</span><br><span class="line">  Text,</span><br><span class="line">  View,</span><br><span class="line">&#125; = React;</span><br><span class="line"></span><br><span class="line">const styles = StyleSheet.create(&#123;</span><br><span class="line">  row: &#123;</span><br><span class="line">    borderColor: &apos;red&apos;,</span><br><span class="line">    borderWidth: 2,</span><br><span class="line">    padding: 20,</span><br><span class="line">    backgroundColor: &apos;#3ad734&apos;,</span><br><span class="line">    margin: 5,</span><br><span class="line">  &#125;,</span><br><span class="line">  text: &#123;</span><br><span class="line">    alignSelf: &apos;center&apos;,</span><br><span class="line">    color: &apos;#fff&apos;,</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  layout: &#123;</span><br><span class="line">    flex: 1,</span><br><span class="line">  &#125;,</span><br><span class="line">  scrollview: &#123;</span><br><span class="line">    flex: 1,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">const Row = React.createClass(&#123;</span><br><span class="line">  render: function() &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;View style=&#123;styles.row&#125;&gt;</span><br><span class="line">          &lt;Text style=&#123;styles.text&#125;&gt;</span><br><span class="line">            &#123;this.props.data.text &#125;</span><br><span class="line">          &lt;/Text&gt;</span><br><span class="line">        &lt;/View&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">const RNAppPullToRefreshView = React.createClass(&#123;</span><br><span class="line">  getInitialState() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isRefreshing: false,</span><br><span class="line">      loaded: 0,</span><br><span class="line">      rowData: Array.from(new Array(20)).map(</span><br><span class="line">        (val, i) =&gt; (&#123;text: &apos;初始行&apos; + i&#125;)</span><br><span class="line">      ),</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  render() &#123;</span><br><span class="line">    const rows = this.state.rowData.map((row, ii) =&gt; &#123;</span><br><span class="line">      return &lt;Row key=&#123;ii&#125; data=&#123;row&#125; /&gt;;</span><br><span class="line">    &#125;);</span><br><span class="line">    return (</span><br><span class="line">      &lt;PullToRefreshViewAndroid</span><br><span class="line">        style=&#123;styles.layout&#125;</span><br><span class="line">        refreshing=&#123;this.state.isRefreshing&#125;</span><br><span class="line">        onRefresh=&#123;this._onRefresh&#125;</span><br><span class="line">        colors=&#123;[&apos;#ff0000&apos;, &apos;#00ff00&apos;, &apos;#0000ff&apos;,&apos;#123456&apos;]&#125;</span><br><span class="line">        progressBackgroundColor=&#123;&apos;#ffffff&apos;&#125;</span><br><span class="line">        &gt;</span><br><span class="line">        &lt;ScrollView style=&#123;styles.scrollview&#125;&gt;</span><br><span class="line">          &#123;rows&#125;</span><br><span class="line">        &lt;/ScrollView&gt;</span><br><span class="line">      &lt;/PullToRefreshViewAndroid&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  _onRefresh() &#123;</span><br><span class="line">    this.setState(&#123;isRefreshing: true&#125;);</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      // 进行准备5项新数据</span><br><span class="line">      const rowData = Array.from(new Array(5))</span><br><span class="line">      .map((val, i) =&gt; (&#123;</span><br><span class="line">        text: &apos;下拉刷新行&apos; + (+this.state.loaded + i)</span><br><span class="line">      &#125;))</span><br><span class="line">      .concat(this.state.rowData);</span><br><span class="line"></span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        loaded: this.state.loaded + 5,</span><br><span class="line">        isRefreshing: false,</span><br><span class="line">        rowData: rowData,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;, 5000);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">AppRegistry.registerComponent(&apos;RNAppPullToRefreshView&apos;, () =&gt; RNAppPullToRefreshView);</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/日志/">日志</a><a class="article-category-link" href="/categories/日志/笔记/">笔记</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PullToRefreshView/">PullToRefreshView</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React/">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/React-Native/">React-Native</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016 huangyong
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.0">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>